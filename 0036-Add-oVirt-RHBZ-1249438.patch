From 37b0b4f14bd8e39beec6d4e1b860d7aab415590b Mon Sep 17 00:00:00 2001
From: "Richard W.M. Jones" <rjones@redhat.com>
Date: Mon, 3 Aug 2015 12:23:13 +0100
Subject: [PATCH 36/44] Add oVirt (RHBZ#1249438).

(cherry picked from commit 1159ea3a8e4a65cf56804639498b692740723979)
---
 virt-what.in  | 5 +++++
 virt-what.pod | 6 ++++++
 2 files changed, 11 insertions(+)

diff --git a/virt-what.in b/virt-what.in
index 2de040a..d37da85 100644
--- a/virt-what.in
+++ b/virt-what.in
@@ -203,6 +203,11 @@ if echo "$dmi" | grep -q 'Vendor: Parallels'; then
     skip_qemu_kvm=true
 fi
 
+# Check for oVirt.
+if echo "$dmi" | grep -q 'Manufacturer: oVirt'; then
+    echo ovirt
+fi
+
 # Check for Xen.
 
 if [ "$cpuid" = "XenVMMXenVMM" ]; then
diff --git a/virt-what.pod b/virt-what.pod
index d936e4a..4e38414 100644
--- a/virt-what.pod
+++ b/virt-what.pod
@@ -116,6 +116,12 @@ container.
 
 Status: contributed by Evgeniy Sokolov
 
+=item B<ovirt>
+
+The guest is running on an oVirt or RHEV node.
+
+Status: contributed by RWMJ, not confirmed
+
 =item B<parallels>
 
 The guest is running inside Parallels Virtual Platform
-- 
1.8.3.1

